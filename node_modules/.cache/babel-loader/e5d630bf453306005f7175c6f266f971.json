{"ast":null,"code":"import { isDevelopment, isTest } from \"./environment.js\";\n\nfunction isObject(value) {\n  return value !== null && typeof value === \"object\";\n}\n\nfunction deepFreeze(value) {\n  var workSet = new Set([value]);\n  workSet.forEach(function (obj) {\n    if (isObject(obj)) {\n      if (!Object.isFrozen(obj)) Object.freeze(obj);\n      Object.getOwnPropertyNames(obj).forEach(function (name) {\n        if (isObject(obj[name])) workSet.add(obj[name]);\n      });\n    }\n  });\n  return value;\n}\n\nexport function maybeDeepFreeze(obj) {\n  if (process.env.NODE_ENV !== \"production\" && (isDevelopment() || isTest())) {\n    deepFreeze(obj);\n  }\n\n  return obj;\n}","map":{"version":3,"sources":["../../../src/utilities/common/maybeDeepFreeze.ts"],"names":[],"mappings":"AAAA,SAAS,aAAT,EAAwB,MAAxB,QAAsC,kBAAtC;;AAEA,SAAS,QAAT,CAAkB,KAAlB,EAA4B;EAC1B,OAAO,KAAK,KAAK,IAAV,IAAkB,OAAO,KAAP,KAAiB,QAA1C;AACD;;AAED,SAAS,UAAT,CAAoB,KAApB,EAA8B;EAC5B,IAAM,OAAO,GAAG,IAAI,GAAJ,CAAQ,CAAC,KAAD,CAAR,CAAhB;EACA,OAAO,CAAC,OAAR,CAAgB,UAAA,GAAA,EAAG;IACjB,IAAI,QAAQ,CAAC,GAAD,CAAZ,EAAmB;MACjB,IAAI,CAAC,MAAM,CAAC,QAAP,CAAgB,GAAhB,CAAL,EAA2B,MAAM,CAAC,MAAP,CAAc,GAAd;MAC3B,MAAM,CAAC,mBAAP,CAA2B,GAA3B,EAAgC,OAAhC,CAAwC,UAAA,IAAA,EAAI;QAC1C,IAAI,QAAQ,CAAC,GAAG,CAAC,IAAD,CAAJ,CAAZ,EAAyB,OAAO,CAAC,GAAR,CAAY,GAAG,CAAC,IAAD,CAAf;MAC1B,CAFD;IAGD;EACF,CAPD;EAQA,OAAO,KAAP;AACD;;AAED,OAAM,SAAU,eAAV,CAA6B,GAA7B,EAAmC;EACvC,IAAI,OAAO,CAAC,GAAR,CAAY,QAAZ,KAAyB,YAAzB,KAA0C,aAAa,MAAM,MAAM,EAAnE,CAAJ,EAA4E;IAC1E,UAAU,CAAC,GAAD,CAAV;EACD;;EACD,OAAO,GAAP;AACD","sourcesContent":["import { isDevelopment, isTest } from './environment';\n\nfunction isObject(value: any) {\n  return value !== null && typeof value === \"object\";\n}\n\nfunction deepFreeze(value: any) {\n  const workSet = new Set([value]);\n  workSet.forEach(obj => {\n    if (isObject(obj)) {\n      if (!Object.isFrozen(obj)) Object.freeze(obj);\n      Object.getOwnPropertyNames(obj).forEach(name => {\n        if (isObject(obj[name])) workSet.add(obj[name]);\n      });\n    }\n  });\n  return value;\n}\n\nexport function maybeDeepFreeze<T>(obj: T): T {\n  if (process.env.NODE_ENV !== \"production\" && (isDevelopment() || isTest())) {\n    deepFreeze(obj);\n  }\n  return obj;\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}